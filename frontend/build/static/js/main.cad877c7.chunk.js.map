{"version":3,"sources":["contexts/CurrentUserContext.js","images/header-logo.svg","components/header/Header.js","components/card/Card.js","components/main/Main.js","components/footer/Footer.js","components/popup_with_form/PopupWithForm.js","components/edit_profile_popup/EditProfilePopup.js","components/edit_avatar_popup/EditAvatarPopup.js","components/image_popup/ImagePopup.js","utils/utils.js","utils/api.js","components/add_place_popup/AddPlacePopup.js","components/register/Register.js","components/login/Login.js","components/protectedRoute/ProtectedRoute.js","images/info-tooltip-success.svg","images/info-tooltip-again.svg","components/infoTooltip/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","props","useState","isShowMoreOpen","setShowMoreOpen","isUserMobileDisplay","setUserMobileDisplay","showUserMobile","showShowMore","exact","path","className","email","to","onClick","signOut","src","headerLogo","alt","Card","currentUser","useContext","isOwn","owner","_id","id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onCardClick","type","onDeleteCard","card","key","likeCount","length","onCardLike","Main","href","onEditAvatar","avatar","aria-label","onEditProfile","about","onAddPlace","cards","map","handleCardClick","onCardDelete","Footer","PopupWithForm","popupOpened","isOpen","onClose","action","method","noValidate","onSubmit","title","children","EditProfilePopup","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","ImagePopup","apiOptions","baseUrl","headers","authorization","api","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","_checkRes","body","JSON","stringify","url","AddPlacePopup","setTitle","setLink","Register","setEmail","password","setPassword","onRegister","event","Login","onLogin","ProtectedRoute","Component","component","loggedIn","InfoTooltip","successImage","isSuccess","SuccessSvg","AgainSvg","successTitle","successText","unsuccessText","BASE_URL","App","userEmail","setUserEmail","isLoggedIn","setLoggedIn","isInfoTooltipOpen","setInfoTooltipOpen","isTooltipSuccess","setTooltipSuccess","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isCardPopupOpen","setCardPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","history","useHistory","tokenCheck","localStorage","getItem","jwt","token","data","push","catch","err","console","log","changeLike","newCard","newCards","c","closeAllPopups","getInitialCards","item","getMyInfo","Provider","response","Auth","statusCode","setItem","deleteLike","putLike","deleteCard","cardsFilter","filter","removeItem","patchMyInfo","postCard","patchMyAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cad877c7.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","export default __webpack_public_path__ + \"static/media/header-logo.c2821b38.svg\";","import React from 'react';\r\nimport headerLogo from '../../images/header-logo.svg';\r\nimport { Link, Switch, Route } from 'react-router-dom'; \r\n\r\n\r\n\r\nfunction Header(props){\r\n  const [isShowMoreOpen, setShowMoreOpen] = React.useState(true);\r\n  const [isUserMobileDisplay, setUserMobileDisplay] = React.useState(false);\r\n\r\n  const showUserMobile = (isUserMobileDisplay) ? \"mobile-user_display_block\" : \"\";\r\n  const showShowMore = (isShowMoreOpen) ? \"\" : \"header__show-more_image_close\";\r\n\r\n  function handleShowMore(){\r\n    if (isShowMoreOpen) {\r\n      setUserMobileDisplay(true);\r\n      setShowMoreOpen(false); \r\n    } else{\r\n      setUserMobileDisplay(false);\r\n      setShowMoreOpen(true)\r\n    }\r\n  }\r\n\r\n  return(\r\n  <Switch>\r\n    <Route exact path=\"/\">\r\n      <div className={`mobile-user ${showUserMobile}`}>\r\n        <p className=\"mobile-user__email\">{props.email}</p>\r\n        <Link to={'/sign-in'} onClick={props.signOut} className=\"mobile-user__link\">Выйти</Link>\r\n      </div>\r\n      <header className=\"header page__header\">\r\n        <img src={headerLogo} alt=\"Логотип\" className=\"header__logo\" />\r\n        <button onClick={handleShowMore} className={`header__show-more ${showShowMore}`}></button>\r\n        <div className={`header__user`}>\r\n          <p className=\"header__email\">{props.email}</p>\r\n          <Link to={'/sign-in'} onClick={props.signOut} className=\"header__link header__link_color_grey\">Выйти</Link>\r\n        </div>\r\n      </header>\r\n      </Route>\r\n      <Route path=\"/sign-up\">\r\n      <header className=\"header page__header\">\r\n        <img src={headerLogo} alt=\"Логотип\" className=\"header__logo\" />\r\n        <Link className=\"header__link\" to=\"/sign-in\">Войти</Link>\r\n      </header>\r\n      </Route>\r\n      <Route path=\"/sign-in\">\r\n      <header className=\"header page__header\">\r\n        <img src={headerLogo} alt=\"Логотип\" className=\"header__logo\" />\r\n        <Link className=\"header__link\" to=\"/sign-up\">Регистрация</Link>\r\n      </header>\r\n    </Route>\r\n  </Switch>\r\n  )\r\n}\r\n\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card(props){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.owner._id === currentUser.id;\r\n  const cardDeleteButtonClassName = (\r\n  `element__remove ${isOwn ? '' : 'element__remove_disabled'}`); \r\n  const isLiked = props.likes.some(i => i._id === currentUser.id);\r\n  const cardLikeButtonClassName = (`element__like ${isLiked ? 'element__like_active' : ''}`)\r\n\r\n  function handleClick() {\r\n    props.onCardClick({name: props.name, link: props.link});\r\n  } \r\n\r\n  function handleCardLike(){\r\n    const card = {\r\n      key: props.id,\r\n      id: props.id,\r\n      name: props.name,\r\n      link: props.link,\r\n      likes: props.likes,\r\n      owner: props.owner,\r\n      likeCount: props.likes.length}\r\n    props.onCardLike({card});\r\n  }\r\n\r\n  function handleDeleteCard(){\r\n    props.onDeleteCard(props.id);\r\n  }\r\n\r\n  return(\r\n    <div className=\"element\">\r\n      <a className=\"element__link\">\r\n        <img src={props.link} alt={props.name} className=\"element__image\" onClick={handleClick}/>\r\n      </a>\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteCard}></button>\r\n      <div className=\"element__info\">\r\n        <h2 className=\"element__title\">{props.name}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleCardLike}></button>\r\n          <p className=\"element__like-count\">{props.likeCount}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card;","import {CurrentUserContext} from '../../contexts/CurrentUserContext';\r\nimport React from 'react';\r\nimport Card from '../card/Card';\r\nimport Header from '../header/Header';\r\n\r\n\r\n\r\nfunction Main(props){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return(\r\n    <div>\r\n    <Header email={props.email} signOut={props.signOut}/>\r\n    <main className=\"content\">\r\n      <section className=\"profile content__profile\">\r\n        <div className=\"profile__avatar\">\r\n          <a className=\"profile__avatar-edit\" href=\"#\" onClick={props.onEditAvatar}></a>\r\n          <img src={currentUser.avatar} alt=\"Аватар\" className=\"profile__image\" />\r\n        </div>\r\n    \t<div className=\"profile__text\">\r\n    \t  <div className=\"profile__name\">\r\n    \t    <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n          <button \r\n          className=\"profile__edit-button\" \r\n          type=\"button\" \r\n          aria-label=\"Редактировать\" \r\n          onClick={props.onEditProfile}>\r\n          </button>\r\n    \t  </div>\r\n    \t  <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n    \t</div>\r\n    \t<button className=\"profile__add-button\" type=\"button\" aria-label=\"Добавить\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section className=\"elements content__elements\">\r\n        {\r\n         props.cards.map(({id, name, link, likes, owner, likeCount})=>{\r\n           return <Card key={id} id={id} name={name} link={link} likes={likes} owner={owner} likeCount={likeCount} onCardClick={props.handleCardClick} onCardLike={props.onCardLike} onDeleteCard={props.onCardDelete}/>\r\n         })\r\n        }\r\n      \r\n      </section>\r\n    </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer(){\r\n  return(\r\n    <footer className=\"footer page__footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm(props){\r\n    const popupOpened = props.isOpen ? 'popup_opened' : '';\r\n    \r\n    return (\r\n        <div className={`popup ${popupOpened}`} id={`popup-${props.name}`}>\r\n          <div className=\"popup__container\">\r\n            <button \r\n            className=\"popup__button-close\" \r\n            type=\"button\" \r\n            aria-label=\"Закрыть\" \r\n            onClick={props.onClose}>\r\n            </button>\r\n            <form className=\"popup__form\" action=\"#\" method=\"POST\" name={props.name} noValidate onSubmit={props.onSubmit}>\r\n              <fieldset className=\"popup__fieldset\">\r\n                <h2 className=\"popup__heading\">{props.title}</h2>\r\n                {props.children}\r\n              </fieldset>\r\n            </form>\r\n          </div>\r\n      </div>\r\n    )\r\n}\r\n\r\n  \r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from '../popup_with_form/PopupWithForm';\r\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext';\r\n\r\n\r\n\r\nfunction EditProfilePopup(props){\r\n  const [name, setName] = React.useState('Имя');\r\n  const [description, setDescription] = React.useState('Профессия');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n  function handleNameChange(e){\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e){\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  } \r\n\r\n  return(\r\n    <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n        <label className=\"popup__field\">\r\n          <input \r\n          type=\"text\" \r\n          className=\"popup__input\" \r\n          placeholder=\"Имя\" \r\n          name=\"name\" \r\n          required \r\n          id=\"name-input\" \r\n          minLength=\"2\" \r\n          maxLength=\"40\" \r\n          value={name}\r\n          onChange={handleNameChange}\r\n          />\r\n          <span className=\"popup__input-error\" id=\"name-input-error\"></span> \r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input \r\n          type=\"text\" \r\n          className=\"popup__input\" \r\n          placeholder=\"Занятие\" \r\n          name=\"job\" \r\n          required \r\n          id=\"job-input\" \r\n          minLength=\"2\" \r\n          maxLength=\"200\"\r\n          value={description}\r\n          onChange={handleDescriptionChange}\r\n          />\r\n          <span className=\"popup__input-error\" id=\"job-input-error\"></span> \r\n        </label>\r\n        <button className=\"popup__button-save\" type=\"submit\">Сохранить</button>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from '../popup_with_form/PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props){\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  } \r\n\r\n  return (\r\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n        <label className=\"popup__field\">\r\n          <input \r\n          type=\"url\" \r\n          className=\"popup__input\" \r\n          placeholder=\"Ссылка на изображение\" \r\n          name=\"url\" \r\n          required \r\n          id=\"url-inputAvatar\"\r\n          ref={avatarRef} \r\n          />\r\n          <span className=\"popup__input-error\" id=\"url-inputAvatar-error\"></span>\r\n        </label>\r\n        <button className=\"popup__button-save\" type=\"submit\">Сохранить</button>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\n\r\nfunction ImagePopup(props){\r\n    const popupOpened = props.isOpen ? 'popup_opened' : '';\r\n\r\n    return(\r\n      <div className={`popup ${popupOpened}`} id={`popup-${props.name}`}>\r\n        <div className=\"popup__container\">\r\n          <button \r\n          className=\"popup__button-close\" \r\n          type=\"button\" \r\n          aria-label=\"Закрыть\" \r\n          onClick={props.onClose}>\r\n          </button>\r\n          <img src={props.card.link} alt={props.card.name} className=\"popup__pic\" />\r\n          <p className=\"popup__subtitle\">{props.card.name}</p>\r\n        </div>  \r\n      </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","const apiOptions = {\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\r\n  headers: {\r\n    authorization: '6e729665-1bba-493d-86aa-08890e5fc87f',\r\n    'Content-Type': 'application/json'\r\n  }\r\n}\r\n\r\nexport default apiOptions;\r\n\r\n","import apiOptions from './utils';\r\n\r\nclass Api{\r\n  constructor({apiOptions}){\r\n    this._baseUrl = apiOptions.baseUrl;\r\n    this._headers = apiOptions.headers;\r\n  }\r\n  \r\n  _checkRes(res){\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  } \r\n\r\n  getMyInfo(){\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers\r\n    })\r\n      .then((res) => this._checkRes(res)) \r\n  } \r\n\r\n  patchMyInfo(name, about){\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about\r\n      })\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  }\r\n\r\n  patchMyAvatar(avatar){\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatar\r\n      })\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  }\r\n\r\n  postCard(title, url){\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: title,\r\n        link: url\r\n      })\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  }\r\n\r\n  deleteCard(id){\r\n    return fetch(`${this._baseUrl}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  }\r\n\r\n  putLike(id){\r\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: this._headers\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  }\r\n\r\n  deleteLike(id){\r\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  }\r\n}\r\n\r\nconst api = new Api({apiOptions});\r\n\r\nexport default api;\r\n\r\n","import React from 'react';\r\nimport PopupWithForm from '../popup_with_form/PopupWithForm';\r\n\r\nfunction AddPlacePopup(props){\r\n  const [title, setTitle] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleTitleChange(e){\r\n    setTitle(e.target.value);\r\n  }\r\n    \r\n  function handleLinkChange(e){\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e){\r\n    e.preventDefault();\r\n    props.onAddPlace({title, link});\r\n  }\r\n\r\n\r\n\r\n  return(\r\n    <PopupWithForm name=\"place\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} >\r\n        <label className=\"popup__field\">\r\n          <input \r\n          type=\"text\" \r\n          className=\"popup__input\" \r\n          placeholder=\"Название\" \r\n          name=\"title\" \r\n          required \r\n          id=\"title-input\"\r\n          minLength=\"1\" \r\n          maxLength=\"30\" \r\n          value={title}\r\n          onChange={handleTitleChange}\r\n           />\r\n          <span className=\"popup__input-error\" id=\"title-input-error\"></span>\r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input \r\n          type=\"url\" \r\n          className=\"popup__input\" \r\n          placeholder=\"Ссылка на картинку\" \r\n          name=\"url\" \r\n          required \r\n          id=\"url-input\"\r\n          value={link}\r\n          onChange={handleLinkChange} \r\n          />\r\n          <span className=\"popup__input-error\" id=\"url-input-error\"></span>\r\n        </label>\r\n        <button className=\"popup__button-save\" type=\"submit\">Создать</button>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport { Link } from 'react-router-dom'; \r\n\r\nfunction Register(props){\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n  \r\n\r\n  const handleSubmit = (e) =>{\r\n    e.preventDefault();\r\n    props.onRegister(email, password);\r\n  }\r\n  const handleEmailChange = event => setEmail(event.target.value);\r\n  const handlePasswordChange = event => setPassword(event.target.value);\r\n  \r\n  \r\n  return (\r\n    <div className=\"sign page__sign\">\r\n      <div className=\"sign__container\">\r\n        <form className=\"sign__form\" action=\"#\" method=\"POST\" name=\"register\" noValidate onSubmit={handleSubmit}>\r\n          <fieldset className=\"sign__fieldset\">\r\n            <h2 className=\"sign__heading\">Регистрация</h2>\r\n            <label className=\"sign__field\">\r\n              <input \r\n              type=\"email\" \r\n              className=\"sign__input\" \r\n              placeholder=\"Email\" \r\n              name=\"email\" \r\n              required \r\n              id=\"email-input\" \r\n              minLength=\"2\" \r\n              maxLength=\"40\"\r\n              value={email}\r\n              onChange={handleEmailChange}  \r\n              />\r\n            </label>\r\n            <label className=\"sign__field\">\r\n              <input \r\n              type=\"password\" \r\n              className=\"sign__input\" \r\n              placeholder=\"Пароль\" \r\n              name=\"password\" \r\n              required \r\n              id=\"password-input\" \r\n              minLength=\"6\" \r\n              maxLength=\"30\"\r\n              value={password}\r\n              onChange={handlePasswordChange}\r\n              />\r\n            </label>\r\n          </fieldset>\r\n          <fieldset className=\"sign__fieldset\">\r\n            <button className=\"sign__button-submit\" type=\"submit\">Зарегистрироваться</button>\r\n            <Link to=\"/sign-in\" className=\"sign__link\"><p className=\"sign__link-text\">Уже зарегистрированы? Войти</p></Link>\r\n          </fieldset>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  \r\n  )\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\n\r\nfunction Login(props){\r\n  \r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  const handleSubmit = (e) =>{\r\n    e.preventDefault();\r\n    if(!email || !password){\r\n      return;\r\n    } else{\r\n      props.onLogin(email, password);\r\n    }\r\n  }\r\n  const handleEmailChange = event => setEmail(event.target.value);\r\n  const handlePasswordChange = event => setPassword(event.target.value);\r\n\r\n\r\n  return (\r\n    <div className=\"sign page__sign\">\r\n      <div className=\"sign__container\">\r\n        <form className=\"sign__form\" action=\"#\" method=\"POST\" name=\"login\" noValidate onSubmit={handleSubmit}>\r\n          <fieldset className=\"sign__fieldset\">\r\n            <h2 className=\"sign__heading\">Вход</h2>\r\n            <label className=\"sign__field\">\r\n              <input \r\n              type=\"email\" \r\n              className=\"sign__input\" \r\n              placeholder=\"Email\" \r\n              name=\"email\" \r\n              required \r\n              id=\"email-input\" \r\n              minLength=\"2\" \r\n              maxLength=\"40\"\r\n              value={email}\r\n              onChange={handleEmailChange} \r\n              />\r\n            </label>\r\n            <label className=\"sign__field\">\r\n              <input \r\n              type=\"password\" \r\n              className=\"sign__input\" \r\n              placeholder=\"Пароль\" \r\n              name=\"password\" \r\n              required \r\n              id=\"password-input\" \r\n              minLength=\"6\" \r\n              maxLength=\"30\"\r\n              value={password}\r\n              onChange={handlePasswordChange}\r\n              />\r\n            </label>\r\n          </fieldset>\r\n          <button className=\"sign__button-submit\" type=\"submit\">Войти</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  \r\n  )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({component: Component, ...props  }) => {\r\n  return(\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props}/> : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/info-tooltip-success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/info-tooltip-again.df8eddf6.svg\";","import React from 'react';\r\nimport SuccessSvg from '../../images/info-tooltip-success.svg';\r\nimport AgainSvg from '../../images/info-tooltip-again.svg';\r\n\r\nfunction InfoTooltip(props){\r\n    const popupOpened = props.isOpen ? 'popup_opened' : '';\r\n    const successImage = props.isSuccess ? SuccessSvg : AgainSvg;\r\n    const successTitle = props.isSuccess ? props.successText : props.unsuccessText;\r\n\r\n  return(\r\n    \r\n    <div className={`popup ${popupOpened}`} id=\"popup-tooltip\">\r\n      <div className=\"popup__container\">\r\n        <button \r\n        className=\"popup__button-close\" \r\n        type=\"button\" \r\n        aria-label=\"Закрыть\" \r\n        onClick={props.onClose}>\r\n        </button>\r\n        <div className=\"popup__tooltip\">\r\n          <img src={successImage} className=\"popup__svg\" alt={`${successTitle}`} />\r\n          <h2 className=\"popup__heading\">{successTitle}</h2>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip;","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({password, email})\r\n  })\r\n  .then((response) => {\r\n    try{\r\n      if (response.status === 201){\r\n        return response.json();\r\n      }\r\n    } catch(e){\r\n      return (e)\r\n    }\r\n  })\r\n  .then((res) => {\r\n    return res;\r\n  })\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`,{\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then((response => response.json()))\r\n  .then((data) => {\r\n    if (data){\r\n      localStorage.setItem('token', data.token);\r\n      return data;\r\n    }\r\n  })\r\n};\r\n\r\nexport const getContent = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n    .then(res => res.json())\r\n  } ","import {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport React, { useEffect } from 'react';\r\nimport { Switch, Route, useHistory} from 'react-router-dom';\r\nimport Header from '../components/header/Header';\r\nimport Main from '../components/main/Main';\r\nimport Footer from '../components/footer/Footer';\r\nimport PopupWithForm from './popup_with_form/PopupWithForm';\r\nimport EditProfilePopup from './edit_profile_popup/EditProfilePopup';\r\nimport EditAvatarPopup from './edit_avatar_popup/EditAvatarPopup';\r\nimport ImagePopup from '../components/image_popup/ImagePopup';\r\nimport api from '../utils/api';\r\nimport AddPlacePopup from './add_place_popup/AddPlacePopup';\r\nimport Register from './register/Register';\r\nimport Login from './login/Login';\r\nimport ProtectedRoute from './protectedRoute/ProtectedRoute';\r\nimport InfoTooltip from './infoTooltip/InfoTooltip';\r\nimport * as Auth from '../utils/auth';\r\n\r\n\r\nfunction App() {\r\n  const [userEmail, setUserEmail] = React.useState('');\r\n  const [isLoggedIn, setLoggedIn] = React.useState(false);\r\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\r\n  const [isTooltipSuccess, setTooltipSuccess] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [isCardPopupOpen, setCardPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({name: 'Фотография', link: '../images/no-image.jpg'});\r\n  const [currentUser, setCurrentUser] = React.useState({name: 'Имя', about: 'Профессия', avatar: '../images/no-image.jpg'});\r\n  const [cards, setCards] = React.useState([]);\r\n  const history = useHistory();\r\n\r\n  function tokenCheck(){\r\n    if(localStorage.getItem('token')){\r\n      const jwt = localStorage.getItem('token');\r\n      Auth.getContent(jwt).then((res)=>{\r\n        setUserEmail(res.data.email)\r\n        setLoggedIn(true);\r\n        history.push('/');\r\n      })\r\n      .catch((err) => console.log(err));\r\n    }\r\n  }\r\n  \r\n  useEffect(() => {tokenCheck()}, [isLoggedIn])\r\n\r\n  React.useEffect(() => {\r\n    api.getInitialCards().then((data) =>{\r\n      setCards(data.map((item) => ({\r\n        key: item._id,\r\n        id: item._id,\r\n        name: item.name,\r\n        link: item.link,\r\n        likes: item.likes,\r\n        owner: item.owner,\r\n        likeCount: item.likes.length\r\n      })));\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err);\r\n    });\r\n  }, []);\r\n\r\n\r\n  function changeLike(newCard, card){\r\n    const newCards = cards.map((c) => {\r\n      if(c.id === card.id) {\r\n        return {\r\n          key: newCard._id,\r\n          id: newCard._id,\r\n          name: newCard.name,\r\n          link: newCard.link,\r\n          likes: newCard.likes,\r\n          owner: newCard.owner,\r\n          likeCount: newCard.likes.length\r\n        };\r\n      } else{ \r\n        return c;\r\n      }\r\n    });\r\n    setCards(newCards);\r\n  }\r\n\r\n  function handleCardLike({card}) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser.id);\r\n    if (isLiked){\r\n      api.deleteLike(card.id).then((newCard) => {\r\n        changeLike(newCard, card);\r\n      })\r\n      .catch((err) =>{\r\n        console.log(err);\r\n      });\r\n    } else{\r\n      api.putLike(card.id).then((newCard) => {\r\n        changeLike(newCard, card);\r\n      })\r\n      .catch((err) =>{\r\n        console.log(err);\r\n      });\r\n    }\r\n  } \r\n\r\n  function handleDeleteCard(id){\r\n    api.deleteCard(id).then((data) => {\r\n      console.log(data);\r\n      const cardsFilter = cards.filter((item) => {\r\n        return id !== item.id;\r\n      });\r\n      setCards(cardsFilter);\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    api.getMyInfo().then((data) => {\r\n      setCurrentUser({id: data._id, name: data.name, about: data.about, avatar: data.avatar});\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err);\r\n    });\r\n  }, [])\r\n  \r\n  \r\n  function handleEditAvatarClick(){\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick(){\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick(){\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups(){\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setCardPopupOpen(false);\r\n    setInfoTooltipOpen(false);\r\n  }\r\n\r\n  function handleCardClick({name, link}){\r\n    setCardPopupOpen(true);\r\n    setSelectedCard({name: name, link: link});\r\n  }\r\n\r\n  function handleUpdateUser({name, about}){\r\n    api.patchMyInfo(name, about).then((res) => {\r\n      setCurrentUser({id: res._id, name: res.name, about: res.about, avatar: res.avatar});\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  function handleUpdateAvatar({avatar}){\r\n    api.patchMyAvatar(avatar).then((res) => {\r\n      setCurrentUser({id: res._id, name: res.name, about: res.about, avatar: res.avatar});\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  function handleAddPlaceSubmit({title, link}){\r\n    api.postCard(title, link).then((res) => {\r\n      const newCard = {\r\n        key: res._id,\r\n        id: res._id,\r\n        name: res.name,\r\n        link: res.link,\r\n        likes: res.likes,\r\n        owner: res.owner,\r\n        likeCount: res.likes.length\r\n      }\r\n      setCards([newCard, ...cards])\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  function handleLogin(email, password){\r\n    Auth.authorize(email, password).then((res) => {\r\n      if(res.token){\r\n        setLoggedIn(true);\r\n        history.push('/');\r\n      }\r\n    })\r\n    .catch((err)=> {console.log(err)})\r\n  }\r\n\r\n  function handleSignOut(){\r\n    localStorage.removeItem('token');\r\n    history.push('/');\r\n    setLoggedIn(false);\r\n  }\r\n\r\n  function handleRegister(email, password){\r\n    if (email && password){\r\n      Auth.register(email, password).then((res) =>{\r\n        if (res.statusCode !== 400){\r\n          setInfoTooltipOpen(true);\r\n          setTooltipSuccess(true);\r\n          history.push('/sign-in');\r\n        } else{\r\n          console.log('Некорректно заполнено одно из полей');\r\n          setInfoTooltipOpen(true);\r\n          setTooltipSuccess(false);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        setInfoTooltipOpen(true);\r\n        setTooltipSuccess(false);\r\n      })\r\n      } else{\r\n        setInfoTooltipOpen(true);\r\n        setTooltipSuccess(false);\r\n        console.log('Не передано одно из полей');\r\n    }}\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n    <div className=\"page\">\r\n      \r\n      <Switch>\r\n        <Route path=\"/sign-up\">\r\n          <Header type=\"register\" />\r\n          <Register \r\n          onClose={closeAllPopups} \r\n          onRegister={handleRegister}/>\r\n        </Route>\r\n        <Route path=\"/sign-in\">\r\n          <Header type=\"login\" />\r\n          <Login \r\n          onClose={closeAllPopups} \r\n          onLogin={handleLogin}/>\r\n        </Route>\r\n        <ProtectedRoute \r\n          path=\"/\" \r\n          loggedIn={isLoggedIn} \r\n          type=\"email\" \r\n          onEditProfile={handleEditProfileClick} \r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          handleCardClick={handleCardClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleDeleteCard}\r\n          email={userEmail}\r\n          signOut={handleSignOut}\r\n          component={Main}>\r\n        </ProtectedRoute>\r\n        \r\n      </Switch>\r\n      <Footer />\r\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\r\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\r\n      <PopupWithForm name=\"confirm\" title=\"Вы уверены?\" isOpen={false} onClose={closeAllPopups}>\r\n        <button className=\"popup__button-save\" type=\"submit\">Да</button>\r\n      </PopupWithForm>\r\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\r\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} isOpen={isCardPopupOpen} />\r\n      <InfoTooltip \r\n      isOpen={isInfoTooltipOpen} \r\n      onClose={closeAllPopups} \r\n      isSuccess={isTooltipSuccess} \r\n      successText={'Вы успешно зарегистрировались!'}\r\n      unsuccessText={'Что-то пошло не так! Попробуйте ещё раз.'}\r\n      />\r\n    </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}